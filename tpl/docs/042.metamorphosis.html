<h2>Metamorphosis / HTML</h2>

<!-- ----------------------- -->
<section>
	<div class="desc">
		<p>
			AbsurdJS was made really flexible. It is so flexible that you can use it as HTML preprocessor. I.e. you may write JavaScript, JSON or YAML and receive HTML at the end.
		</p>
	</div>
	<div class="code">
		<pre><code class="language-javascript">api.morph("html");
api.add({
	html: {
	    head: {
	    	title: "title"
	    },
	    body: {}
	}
}).compile(function(err, html) {
	// use the html here
});</code></pre>
The result of the above compilation is:
<pre><code class="language-markup">&lt;html>
	&lt;head>
		&lt;title>
			title
		&lt;/title>
	&lt;/head>
	&lt;body/>
&lt;/html></code></pre>
	</div>
	<br class="clear">
</section>

<!-- ----------------------- -->
<section>
	<div class="desc">
		<p>
			There are three special properties that you may set:<br />
		</p>
	</div>
	<div class="code">

		<em>_</em> (underscore) is interpreted  as node value.
		<pre><code class="language-javascript">body: {
	_: "page text"
}</code></pre>
Will be compiled to:
<pre><code class="language-markup">&lt;body>page text&lt;/body></pre></code>

<em>_attrs</em> accepts an object, which is used to define node attributes.
<pre><code class="language-javascript">body: {
	_attrs: { class: "black" }
}</code></pre>
The result is:
<pre><code class="language-markup">&lt;body class="black"/></pre></code>

<em>_tpl</em> is used when you have a template defined. During the usage of <em>add</em> method you may pass a template name. For example:
<pre><code class="language-javascript">api.add({
	title: "AbsurdJS preprocessor"
}, "title");

api.add({
	html: {
		head: {
			_tpl: "title"
		}
	}
})</code></pre>The above code is compiled to:
<pre><code class="language-markup">&lt;html>
	&lt;head>
		&lt;title>
			AbsurdJS preprocessor
		&lt;/title>
	&lt;/head>
&lt;/html>
</pre></code>

<em>_include</em> accepts an object or array of objects. It acts as templates. Just compiles the included objects.
<pre><code class="language-javascript">var paragraph = { p: "Paragraph text." };
var footer = { footer: "Footer text." };
var body = {
	_include: [
		{ h1: "Title here" },
		paragraph, 
		footer
	]
}
api.morph("html");
api.add({
	html: {
		_include: body
	}
});</code></pre>The result is:
<pre><code class="language-markup">&lt;html>
	&lt;h1>
		Title here
	&lt;/h1>
	&lt;p>
		Paragraph text.
	&lt;/p>
	&lt;footer>
		Footer text.
	&lt;/footer>
&lt;/html></pre></code>

	</div>
	<br class="clear">
</section>

<!-- ----------------------- -->
<section>
	<div class="desc">
		<p>
			If you want to speed up your writing you will be glad to see that Absurd supports <a href="http://docs.emmet.io/abbreviations/">Emmet</a> like syntax.
		</p>
	</div>
	<div class="code">
		<pre><code class="language-javascript">api.morph("html");
api.add({
	html: {
		head: {
			title: "AbsurdJS is awesome"
		},
		body: {
			'.content.left#wrapper': {
				'a[href="http://krasimir.github.io/absurd/"]': "AbsurdJS documentation",
				'p.text[title="description" data-type="selectable"]': "CSS preprocessor"
			}
		}
	}
});</pre></code>
The code produces:
<pre><code class="language-markup">&lt;html>
	&lt;head>
		&lt;title>
			AbsurdJS is awesome
		&lt;/title>
	&lt;/head>
	&lt;body>
		&lt;div class="content left" id="wrapper">
			&lt;a href="http://krasimir.github.io/absurd/">
				AbsurdJS documentation
			&lt;/a>
			&lt;p class="text" title="description" data-type="selectable">
				CSS preprocessor
			&lt;/p>
		&lt;/div>
	&lt;/body>
&lt;/html></code></pre>
	</div>
	<br class="clear">
</section>

<!-- ----------------------- -->
<a href="#" name="template-engine"></a>
<section>
	<div class="desc">
		<p>
			AbsurdJS could act as a template engine. Use <em>&lt;%</em> and <em>%&gt;</em> as place holders. The data is passed along with the callback in the <em>.compile</em> method.
		</p>
	</div>
	<div class="code"><pre><code class="language-javascript">api.morph("html").add({
  body: {
    p: "Hello, my name is <% this.data.name %>!",
      small: "I'm <% this.data.profile.age %> years old",
      ul: [        
        '<% for(var skill in this.data.skills) { %>',
        { li: {
          'a[href="#"]': 'I do <% this.data.skills[skill] %>'
        }},
        '<% } %>'
      ]
    }
}).compile(function(err, html) {
	/* html:
	&lt;body>
		&lt;p>Hello, my name is John!&lt;/p>
		&lt;small>I\'m 29 years old&lt;/small>
		&lt;ul>
			&lt;li>&lt;a href="#">I do javascript&lt;/a>&lt;/li>
			&lt;li>&lt;a href="#">I do html&lt;/a>&lt;/li>
			&lt;li>&lt;a href="#">I do css&lt;/a>&lt;/li>
		&lt;/ul>
	&lt;/body>
	*/
}, {
    data: {
	    name: "John",
	    profile: { age: 29 },
        skills: ['javascript', 'html', 'css']
    }
});</code></pre>
	</div>
	<br class="clear">
</section>