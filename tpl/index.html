<!DOCTYPE html>
<html>
<head>
	
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0" />
	<meta name="author" content="Krasimir Tsonev" />
	<meta name="copyright" content="Krasimir Tsonev" />
	<meta name="robots" content="follow,index" />
	<meta name="title" content="AbsurdJS - JavaScript based CSS/HTML preprocessor in less then 10Kb" />
	<meta name="keywords" content="AbsurdJS - JavaScript based CSS/HTML preprocessor" lang="en-us" />
	<meta name="description" content="AbsurdJS - JavaScript based CSS/HTML preprocessor" />
	<meta property="og:site_name" content="https://github.com/krasimir/absurd"/>
	<meta property="og:title" content="AbsurdJS - JavaScript based CSS/HTML preprocessor"/> 
	<meta property="og:description" content="AbsurdJS - JavaScript based CSS/HTML preprocessor"/>
	
	<title>AbsurdJS - the new CSS preprocessor</title>
	<link rel="stylesheet" href="./css/styles.css">
	<link rel="stylesheet" href="./css/prism.css">

</head>
<body>

	<!-- facebook -->
	<div id="fb-root"></div>
	<script>(function(d, s, id) {
	  var js, fjs = d.getElementsByTagName(s)[0];
	  if (d.getElementById(id)) return;
	  js = d.createElement(s); js.id = id;
	  js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=130923167067801";
	  fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));</script>

	<header>
		<h1>AbsurdJS</h1>
		<h2>JavaScript based CSS/HTML preprocessor</h2>
	</header>
	<div class="content">
		<div class="demo-selector"></div>
		<div class="demo">
			<div class="editor-wrapper">
				<div id="editor"></div>
			</div>
			<div class="result"><pre></pre></div>
			<br class="clear" />
		</div>
		<a href="javascript:void(0);" id="compile" class="compile">Compile<br /><small>Click me or press Ctrl+Enter</small></a>

		<section class="social">

			<!-- Twitter -->
			<a href="https://twitter.com/share" class="twitter-share-button" data-via="KrasimirTsonev" data-hashtags="AbsurdJS">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

			<!-- GitHub -->
			<iframe src="http://ghbtns.com/github-btn.html?user=krasimir&repo=absurd&type=watch&count=true"
  allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>

  			<!-- Google plus -->
			<!-- Place this tag where you want the +1 button to render. -->
			<div class="g-plusone" data-size="medium" data-annotation="inline" data-width="120"></div>

			<!-- Place this tag after the last +1 button tag. -->
			<script>
			  (function() {
			    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
			    po.src = 'https://apis.google.com/js/plusone.js';
			    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
			  })();
			</script>

			<!-- Facebook -->
  			<div class="fb-like" data-href="http://krasimir.github.io/absurd/" data-width="80" data-height="The pixel height of the plugin" data-colorscheme="light" data-layout="standard" data-action="like" data-show-faces="false" data-send="false"></div>

		</section>

		<div class="menu">
			<div class="menu-inner">
				<section>
					<p>
						<a href="#client-side-usage">Client-side usage</a>
						<a href="#client-side-tests"><small>Client-side tests</small></a>
					</p>
					<hr />
					<p>
						<a href="#server-side-usage">Server-side usage</a>
						<a href="#compilation"><small>Compilation</small></a>
						<a href="#input-formats"><small>Input formats</small></a>
						<a href="#syntax"><small>Syntax</small></a>
						<a href="#extending"><small>Extending</small></a>
						<a href="#metamorphosis"><small>Metamorphosis</small></a>
						<a href="#api"><small>API</small></a>
						<a href="#testing"><small>Testing</small></a>
					</p>
				</section>
				<section class="centered must-read">
					<img src="img/must-read.jpg" class="must-read" />
					<p>
						<a href="http://davidwalsh.name/write-css-javascript" target="_blank"><small>&#9830;<br />Write your CSS with JavaScript<br />(an AbsurdJS concept presentation)</small></a>
					</p>
				</section>
			</div>
		</div>

		<div class="documentation">
			<div class="documentation-inner">
				{{docs}}
			</div>
		</div>

	</div>

	<a href="https://github.com/krasimir/absurd"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

	<!-- <script src="./js/absurd.min.js"></script>-->
	<script src="./js/absurd.js"></script>
	<script src="./js/jquery-1.10.2.min.js"></script>
	<script src="./js/ace/src-noconflict/ace.js"></script>
	<script src="./js/prism.js"></script>
	<script src="./js/demos.js"></script>

	<script>
		$(document).ready(function() {

			var getParameterByName = function(name) {
				name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
				var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
				    results = regex.exec(location.search);
				return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
			}

			var shortenURL = function(url, callback) {
				var bitlyToken = "32ce8abb603b17721ba37a343a357c4c7394813f";
				var bitlyURL = "https://api-ssl.bitly.com/v3/shorten?access_token=" + bitlyToken + "&longUrl=" + encodeURIComponent(url);
				var jqxhr = $.getJSON(bitlyURL, function(data) {
					if(data && data.status_code === "200" && data.data.url) {
						callback(null, data.data.url);
					}
				})
				.fail(function() {
					callback({error: "Can't shorten url"}, url);
				});
			}
			// shortenURL("http://krasimir.github.io/absurd");

			var compile = function() {
				var api = Absurd();
				var code = editor.getSession().getValue();
				try {
					eval(code);
					api.compile(function(err, res) {
						res = res.replace(/\</g, '&lt;');
						result.html(res);
					});
				} catch(err) {
					result.html((err.stack ? err.stack : err.toString()));
				}
			}

			var editor = ace.edit("editor");
		    editor.setTheme("ace/theme/tomorrow");
		    editor.renderer.setShowGutter(true); 
		    editor.renderer.setShowPrintMargin(false); 
		    editor.setFontSize("18px");
		    editor.getSession().setMode("ace/mode/javascript");

		    var compileButton = $("#compile");
		    compileButton.on("click", compile);

		    var result = $(".result pre");

		    // compile on Ctrl+Enter
		    var isCtrl = false;
			$(document).keyup(function(e) {
				if(e.which == 17) {
					isCtrl = false;
				}
			});
			$(document).keydown(function(e) {
				if(e.which == 17) {
					isCtrl = true; 
				}
				if(e.which == 13 && isCtrl) { 
					compile();
				} 
			});

			// demo selector
			var defaultDemo = getParameterByName("demo");
			defaultDemo = defaultDemo != '' ? parseInt(defaultDemo)-1 : 0;
			var demoSelectMarkup = '<select id="demo-selector-control">';
		    for(var i=0; i<demos.length; i++) {
		    	var demo = demos[i];
		    	var selected = '';
		    	if(i === defaultDemo) {
		    		editor.getSession().setValue(demo.content);
		    		selected = ' selected="selected"'
		    	}
		    	demoSelectMarkup += '<option value="' + i + '"' + selected + '>' + demo.name + '</option>';
		    }
		    demoSelectMarkup += '</select>';
		    var demoSelect = $(demoSelectMarkup);
		    $(".demo-selector").append(demoSelect);
		    demoSelect.on("change", function() {
				editor.getSession().setValue(demos[parseInt(demoSelect.val())].content);
				compile();
				demoSelect.blur();
		    });

		    compile();

		});
	</script>

	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-1621908-2', 'krasimir.github.io');
	  ga('send', 'pageview');

	</script>

</body>
</html>