var Absurd=function(){var a={api:{},helpers:{},plugins:{},processors:{css:{plugins:{}},html:{plugins:{},helpers:{}},component:{plugins:{}}},ki:{}},b=function(a,b){!function c(){a.length>0&&a.shift().apply(b||{},[c].concat(Array.prototype.slice.call(arguments,0)))}()},d=function(a,b){var c;try{c=(b||document).querySelectorAll(a)}catch(d){c=document.querySelectorAll(a)}return c},e=function(a){var b=document.createElement("iframe");b.style.display="none",document.body.appendChild(b),b.contentDocument.open(),b.contentDocument.write(a),b.contentDocument.close();var c=b.contentDocument.body.firstChild;return document.body.removeChild(b),c},f=function(a){for(var b,c=a.childNodes,d=c.length,e=0,g=/^\s*$/;d>e;e++)b=c[e],3==b.nodeType?g.test(b.nodeValue)&&(a.removeChild(b),e--,d--):1==b.nodeType&&f(b);return a},g=function(b){return b.indexOf("css/CSS.js")>0?a.processors.css.CSS:b.indexOf("html/HTML.js")>0?a.processors.html.HTML:b.indexOf("component/Component.js")>0?a.processors.component.Component:"js-beautify"==b?{html:function(a){return a}}:"./helpers/PropAnalyzer"==b?a.processors.html.helpers.PropAnalyzer:"../../helpers/TransformUppercase"==b?a.helpers.TransformUppercase:"./helpers/TemplateEngine"==b?a.processors.html.helpers.TemplateEngine:function(){}},h="",i=function(){var a=[];return{on:function(b,c){return a[b]||(a[b]=[]),a[b].push(c),this},off:function(b,c){return a[b]?(c||(a[b]=[]),this):this},dispatch:function(b,c){if(a[b])for(var d=0;d<a[b].length;d++){var e=a[b][d];e(c)}return this[b]&&"function"==typeof this[b]&&this[b](c),this}}},j=function(c,g){var h=!1,i=!1,j=!1,k=a.helpers.Extend,l={},m=!1,n=function(a){this.css?g.flush().add(this.css).compile(function(b,e){if(h)h.raw=e,h.element.innerHTML=e;else{var f=document.createElement("style");f.setAttribute("id",c+"-css"),f.setAttribute("type","text/css"),f.innerHTML=e,(d("head")||d("body"))[0].appendChild(f),h={raw:e,element:f}}a()}):a()},o=function(a){if(this.html)if("string"==typeof this.html){if(j===!1){var b=d(this.html);b.length>0&&(j=b[0])}i={"":j.outerHTML.replace(/&lt;/g,"<").replace(/&gt;/g,">")},a()}else"object"==typeof this.html?(i=k({},this.html),j===!1?g.flush().morph("html").add(i).compile(function(b,c){j=e(c),a()},this):a()):a();else a()},p=function(a){i?g.flush().morph("html").add(i).compile(function(b,c){!function d(b,c){if(b.nodeName!==c.nodeName)return b.parentNode&&b.parentNode.replaceChild(c,b),a(),void 0;if(b.nodeValue!==c.nodeValue&&(b.nodeValue=c.nodeValue),b.attributes){for(var e,f,g=b.attributes,h=c.attributes,i={},j=0;j<g.length,e=g[j];j++){for(var k=0;k<h.length,f=h[k];k++)e.name===f.name&&(b.setAttribute(e.name,f.value),i[e.name]=!0);i[e.name]||b.removeAttribute(e.name)}for(var j=0;j<h.length,f=h[j];j++)i[f.name]||b.setAttribute(f.name,f.value)}for(var j=0;j<b.childNodes.length;j++)d(b.childNodes[j],c.childNodes[j])}(f(j),f(e(c))),a()},this):a()};return{populate:function(){b([n,o,p,function(a){!m&&j&&this.get("parent")&&(m=!0,this.get("parent").appendChild(j)),a()},function(){this.dispatch("populated",{css:h,html:{element:j}})}],this)},set:function(a,b){return l[a]=b,this},get:function(a){return l[a]}}},k=function(b){var c={},d={},e=a.helpers.Extend;return c.register=function(a,c){return d[a]=e({},i(),j(a,b),c)},c.get=function(a){if(d[a])return d[a];throw new Error("There is no component with name '"+a+"'.")},c.remove=function(a){return d[a]?(delete d[a],!0):!1},c.list=function(){var a=[];for(var b in d)a.push(b);return a},c.flush=function(){return d={},c},c.broadcast=function(a){for(var b in d)d[b].dispatch(a);return c},c},l=function(){return function(b){var d=function(a,b){for(var c in b)hasOwnProperty.call(b,c)&&(a[c]=b[c]);return a},e={defaultProcessor:a.processors.css.CSS()},f={},g={},h={},i={};e.getRules=function(a){return"undefined"==typeof a?f:("undefined"==typeof f[a]&&(f[a]=[]),f[a])},e.getPlugins=function(){return h},e.getStorage=function(){return g},e.flush=function(){return f={},g=[],i={},e.defaultProcessor=a.processors.css.CSS(),e},e.import=function(){return e.callHooks("import",arguments)?e:e},e.addHook=function(a,b){i[a]||(i[a]=[]);for(var d=!1,e=0;c=i[a][e];e++)c===b&&(d=!0);d===!1?i[a].push(b):null},e.callHooks=function(a,b){if(i[a])for(var d=0;c=i[a][d];d++)if(c.apply(e,b)===!0)return!0;return!1},e.numOfAddedRules=0,e.components=k(e),e.compile=function(a,b){if(e.callHooks("compile",arguments))return e;var c={combineSelectors:!0,minify:!1,processor:e.defaultProcessor,keepCamelCase:!1,api:e};b=d(c,b||{}),b.processor(e.getRules(),a||function(){},b),e.flush()};for(var j in a.api)"compile"!==j&&(e[j]=a.api[j](e),e[j]=function(b){return function(){var c=a.api[b](e);return e.callHooks(b,arguments)?e:c.apply(e,arguments)}}(j));for(var l in a.plugins)e.plugin(l,a.plugins[l]());return"function"==typeof b&&b(e),e}};a.api.add=function(a){var b=function(b,c,d,f){var g=a.getPlugins()[c];if("undefined"!=typeof g){var h=g(a,d);return h&&e(b,h,f),!0}return!1},c=function(b){var c=a.getPlugins();for(var d in b)"undefined"!=typeof c[d]&&(b[d]=!1);for(var d in b)":"===d.charAt(0)&&(b[d]=!1);for(var d in b)/&/g.test(d)&&(b[d]=!1)},d=function(a,c,f){for(var g in c)"object"==typeof c[g]?(":"===g.charAt(0)?e(a+g,c[g],f):/&/g.test(g)?e(g.replace(/&/g,a),c[g],f):0===g.indexOf("@media")||0===g.indexOf("@supports")?e(a,c[g],g):b(a,g,c[g],f)===!1&&e(a+" "+g,c[g],f),c[g]=!1):"function"==typeof c[g]?(c[g]=c[g](),d(a,c,f)):b(a,g,c[g],f)&&(c[g]=!1)},e=function(f,g,h){if("undefined"==typeof g.length||"object"!=typeof g){if(!b(null,f,g,h)){if("object"==typeof a.getRules(h||"mainstream")[f]){var i=a.getRules(h||"mainstream")[f];for(var j in g)"object"!=typeof g[j]&&(i[j]=g[j])}else a.getRules(h||"mainstream")[f]=g;d(f,g,h||"mainstream"),c(g)}}else for(var k=0;prop=g[k];k++)e(f,prop,h)},f=function(a,b){for(var c in b)hasOwnProperty.call(b,c)&&(a[c]=b[c]);return a},g=function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)g(a[b]);else for(var c in a){var d=a[c];if("object"==typeof d&&g(d),/, ?/g.test(c)){for(var e=c.replace(/, /g,",").split(","),b=0;b<e.length,p=e[b];b++)a[p]=f({},d);delete a[c]}}},h=function(b,c){a.numOfAddedRules+=1,g(b);for(var d in b)if(b[d]instanceof Array)for(var f=0;f<b[d].length,r=b[d][f];f++)e(d,r,c||"mainstream");else e(d,b[d],c||"mainstream");return a};return h};var m=g("../helpers/Extend");a.api.compile=function(a){return function(){for(var b=null,c=null,d=null,e=0;e<arguments.length;e++)switch(typeof arguments[e]){case"function":c=arguments[e];break;case"string":b=arguments[e];break;case"object":d=arguments[e]}var f={combineSelectors:!0,minify:!1,keepCamelCase:!1,processor:a.defaultProcessor,api:a};d=m(f,d||{}),d.processor(a.getRules(),function(d,e){if(null!=b)try{fs.writeFile(b,e,function(a){c(a,e)})}catch(d){c.apply({},arguments)}else c.apply({},arguments);a.flush()},d)}},a.api.compileFile=function(a){return a.compile};var n=function(a,b){a=String(a).replace(/[^0-9a-f]/gi,""),a.length<6&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),b=b||0;var c,d,e="#";for(d=0;3>d;d++)c=parseInt(a.substr(2*d,2),16),c=Math.round(Math.min(Math.max(0,c+c*b),255)).toString(16),e+=("00"+c).substr(c.length);return e};a.api.darken=function(){return function(a,b){return n(a,-(b/100))}},a.api.hook=function(a){return function(b,c){return a.addHook(b,c),a}};var n=function(a,b){a=String(a).replace(/[^0-9a-f]/gi,""),a.length<6&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),b=b||0;var c,d,e="#";for(d=0;3>d;d++)c=parseInt(a.substr(2*d,2),16),c=Math.round(Math.min(Math.max(0,c+c*b),255)).toString(16),e+=("00"+c).substr(c.length);return e};a.api.lighten=function(){return function(a,b){return n(a,b/100)}};var q={html:function(a){a.defaultProcessor=g(h+"/../processors/html/HTML.js")(),a.hook("add",function(b,c){return a.getRules(c||"mainstream").push(b),!0})},component:function(a){a.defaultProcessor=g(h+"/../processors/component/Component.js")(),a.hook("add",function(b){b instanceof Array||(b=[b]);for(var d=0;d<b.length,c=b[d];d++)a.getRules("mainstream").push(c);return!0})}};a.api.morph=function(a){return function(b){return q[b]&&(a.flush(),q[b](a)),a}},a.api.plugin=function(a){var b=function(b,c){return a.getPlugins()[b]=c,a};return b},a.api.raw=function(a){return function(b){var c={},d={},e="____raw_"+a.numOfAddedRules;return d[e]=b,c[e]=d,a.add(c),a}},a.api.register=function(a){return function(b,c){return a[b]=c,a}},a.api.storage=function(a){var b=a.getStorage(),c=function(d,e){if("undefined"!=typeof e)b[d]=e;else{if("object"!=typeof d){if(b[d])return b[d];throw new Error("There is no data in the storage associated with '"+d+"'")}for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&c(f,d[f])}return a};return c},a.helpers.ColorLuminance=function(a,b){a=String(a).replace(/[^0-9a-f]/gi,""),a.length<6&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),b=b||0;var c,d,e="#";for(d=0;3>d;d++)c=parseInt(a.substr(2*d,2),16),c=Math.round(Math.min(Math.max(0,c+c*b),255)).toString(16),e+=("00"+c).substr(c.length);return e},a.helpers.Extend=function(){for(var a=function(a,b){for(var c in b)hasOwnProperty.call(b,c)&&(a[c]=b[c]);return a},b=arguments[0],c=1;c<arguments.length;c++)b=a(b,arguments[c]);return b},a.helpers.RequireUncached=function(a){return delete g.cache[g.resolve(a)],g(a)},a.helpers.TransformUppercase=function(a,b){for(var d="",e=0;c=a.charAt(e);e++)d+=b&&b.keepCamelCase===!0?c:c===c.toUpperCase()&&c.toLowerCase()!==c.toUpperCase()?"-"+c.toLowerCase():c;return d};var s=function(a,b,d){var e="",f="",i=[],j=d.api;cssPreprocessor=g(h+"/../css/CSS.js")(),htmlPreprocessor=g(h+"/../html/HTML.js")();for(var k=function(a){for(var b=0;b<i.length,component=i[b];b++)"function"==typeof component&&(component=component()),j.add(component.css?component.css:{});cssPreprocessor(j.getRules(),function(b,c){e+=c,a(b)},d)},l=function(b){var c=0,e=null,g=function(){if(c>a.length-1)return b(e),void 0;var h=a[c];"function"==typeof h&&(h=h()),j.morph("html").add(h.html?h.html:{}),htmlPreprocessor(j.getRules(),function(a,b){f+=b,c+=1,e=a,g()},d)};g()},m=function(a){for(var b in a)if("_include"===b)if(a[b]instanceof Array)for(var d=0;d<a[b].length,c=a[b][d];d++)"function"==typeof c&&(c=c()),i.push(c),m(c);else"function"==typeof a[b]&&(a[b]=a[b]()),i.push(a[b]),m(a[b]);else"object"==typeof a[b]&&m(a[b])},n=0;n<a.length,c=a[n];n++)"function"==typeof c&&(c=c()),i.push(c),m(c);j.flush(),k(function(a){j.morph("html"),l(function(c){b(a||c?{error:{css:a,html:c}}:null,e,f)})})};a.processors.component.Component=function(){var a=function(a,b,c){s(a.mainstream,b,c)};return a.type="component",a};var t="\n",u={combineSelectors:!0,minify:!1,keepCamelCase:!1},w=g("../../helpers/TransformUppercase"),x=function(a,b){var c="";for(var d in a)if(0===d.indexOf("____raw"))c+=a[d][d]+t;else{var e=d+" {"+t;for(var f in a[d]){var g=a[d][f];""===g&&(g='""'),e+="  "+w(f,b)+": "+g+";"+t}e+="}"+t,c+=e}return c},y=function(a){var b={};for(var c in a){var d=!1,e={};for(var f in a[c]){var g=a[c][f];g!==!1&&"object"!=typeof g&&(d=!0,e[f]=g)}d&&(b[c]=e)}return b},z=function(a){var b={},c={};for(var d in a){var e=a[d];for(var f in e){var g=e[f];b[f]||(b[f]={}),b[f][g]||(b[f][g]=[]),b[f][g].push(d)}}for(var f in b){var h=b[f];for(var g in h){var i=h[g];c[i.join(", ")]||(c[i.join(", ")]={});var d=c[i.join(", ")];d[f]=g}}return c},A=function(a){return a=a.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,""),a=a.replace(/ {2,}/g," "),a=a.replace(/ ([{:}]) /g,"$1"),a=a.replace(/([;,]) /g,"$1"),a=a.replace(/ !/g,"!")};a.processors.css.CSS=function(){var a=function(a,b,c){c=c||u;var d="";for(var e in a){var f=y(a[e]);f=c.combineSelectors?z(f):f,d+="mainstream"===e?x(f,c):e+" {"+t+x(f,c)+"}"+t}return c.minify?(d=A(d),b&&b(null,d)):b&&b(null,d),d};return a.type="css",a},a.processors.css.plugins.charset=function(){return function(a,b){"string"==typeof b?a.raw('@charset: "'+b+'";'):"object"==typeof b&&(b=b.charset.replace(/:/g,"").replace(/'/g,"").replace(/"/g,"").replace(/ /g,""),a.raw('@charset: "'+b+'";'))}},a.processors.css.plugins.document=function(){return function(a,b){if("object"==typeof b){var c="";if(c+="@"+b.vendor+"document",c+=" "+b.document,b.rules&&b.rules.length)for(var d=0;rule=b.rules[d];d++)a.handlecssrule(rule,c);else"undefined"!=typeof b.styles&&a.add(b.styles,c)}}},a.processors.css.plugins.keyframes=function(){return function(a,b){var c=g(h+"/../CSS.js")();if("object"==typeof b)if("undefined"!=typeof b.frames){var d="@keyframes "+b.name+" {\n";d+=c({mainstream:b.frames}),d+="}",a.raw(d+"\n"+d.replace("@keyframes","@-webkit-keyframes"))}else if("undefined"!=typeof b.keyframes){for(var d="@keyframes "+b.name+" {\n",e={},f=0;rule=b.keyframes[f];f++)if("keyframe"===rule.type)for(var i=e[rule.values]={},j=0;declaration=rule.declarations[j];j++)"declaration"===declaration.type&&(i[declaration.property]=declaration.value);d+=c({mainstream:e}),d+="}",a.raw(d+"\n"+d.replace("@keyframes","@-webkit-keyframes"))}}},a.processors.css.plugins.media=function(){return function(a,b){var c=g(h+"/../CSS.js")();if("object"==typeof b){for(var d="@media "+b.media+" {\n",e={},f=0;rule=b.rules[f];f++){var i=e[rule.selectors.toString()]={};if("rule"===rule.type)for(var j=0;declaration=rule.declarations[j];j++)"declaration"===declaration.type&&(i[declaration.property]=declaration.value)}d+=c({mainstream:e}),d+="}",a.raw(d)}}},a.processors.css.plugins.namespace=function(){return function(a,b){"string"==typeof b?a.raw('@namespace: "'+b+'";'):"object"==typeof b&&(b=b.namespace.replace(/: /g,"").replace(/'/g,"").replace(/"/g,"").replace(/ /g,"").replace(/:h/g,"h"),a.raw('@namespace: "'+b+'";'))}},a.processors.css.plugins.page=function(){return function(a,b){if("object"==typeof b){var c="";c+=b.selectors.length>0?"@page "+b.selectors.join(", ")+" {\n":"@page {\n";for(var d=0;declaration=b.declarations[d];d++)"declaration"==declaration.type&&(c+="  "+declaration.property+": "+declaration.value+";\n");c+="}",a.raw(c)}}},a.processors.css.plugins.supports=function(){return function(a,b){var c=g(h+"/../CSS.js")();if("object"==typeof b){for(var d="@supports "+b.supports+" {\n",e={},f=0;rule=b.rules[f];f++){var i=e[rule.selectors.toString()]={};if("rule"===rule.type)for(var j=0;declaration=rule.declarations[j];j++)"declaration"===declaration.type&&(i[declaration.property]=declaration.value)}d+=c({mainstream:e}),d+="}",a.raw(d)}}};var B=null,t="\n",u={},C=g("js-beautify").html,w=g("../../helpers/TransformUppercase"),D={},E=function(a){var b="";for(var c in B)if(c==a)for(var d=B[c].length,e=0;d>e;e++)b+=F("",B[c][e]);return b},F=function(a,b){var c="",d="",e="",f=g("./helpers/PropAnalyzer")(a);if(a=f.tag,""!=f.attrs&&(d+=" "+f.attrs),"string"==typeof b)return G(a,d,b);var h=function(a){""!=e&&(e+=t),e+=a};for(var i in b){var j=b[i];switch(i){case"_attrs":for(var k in j)d+="function"==typeof j[k]?" "+w(k,D)+'="'+j[k]()+'"':" "+w(k,D)+'="'+j[k]+'"';b[i]=!1;break;case"_":h(j),b[i]=!1;break;case"_tpl":if("string"==typeof j)h(E(j));else if(j instanceof Array){for(var l="",m=0;tpl=j[m];m++)l+=E(tpl),m<j.length-1&&(l+=t);h(l)}b[i]=!1;break;case"_include":var l="",n=function(a){"function"==typeof a&&(a=a()),a.css&&a.html&&(a=a.html),l+=F("",a)};if(j instanceof Array)for(var m=0;m<j.length,o=j[m];m++)n(o);else"object"==typeof j&&n(j);h(l),b[i]=!1}}for(var p in b){var j=b[p];if(j!==!1){var q=p;switch(typeof j){case"string":h(F(q,j));break;case"object":if(j.length&&j.length>0){for(var l="",m=0;v=j[m];m++)l+=F("","function"==typeof v?v():v),m<j.length-1&&(l+=t);h(F(q,l))}else h(F(q,j));break;case"function":h(F(q,j()))}}}return c+=""!=a?G(a,d,e):e},G=function(a,b,c){var d="";return""==a&&""==b&&""!=c?c:(a=""==a?"div":a,d+=""!==c?"<"+w(a,D)+b+">"+t+c+t+"</"+w(a,D)+">":"<"+w(a,D)+b+"/>")},H=function(a){return a=g("./helpers/TemplateEngine")(a.replace(/[\r\t\n]/g,""),D),D.minify?a:C(a,{indent_size:D.indentSize||4})};return a.processors.html.HTML=function(){var a=function(a,b,c){B=a,b=b||function(){},c=D=c||u;var d=H(E("mainstream"));return b(null,d),d};return a.type="html",a},a.processors.html.helpers.PropAnalyzer=function(a){for(var b={tag:"",attrs:""},d=(a.length,""),e=!1,f=[],g="",h=!1,i="",j=!1,k=0;c=a[k];k++)"["!==c||j?j?"]"!=c?i+=c:(j=!1,k-=1):"."!==c||e?e?"."!=c&&"#"!=c&&"["!=c&&"]"!=c?d+=c:(f.push(d),e=!1,d="",k-=1):"#"!==c||h?h?"."!=c&&"#"!=c&&"["!=c&&"]"!=c?g+=c:(h=!1,k-=1):"."!=c&&"#"!=c&&"["!=c&&"]"!=c&&(b.tag+=c):h=!0:e=!0:j=!0;""!=d&&f.push(d);for(var l="",k=0;cls=f[k];k++)l+=""===l?cls:" "+cls;return b.attrs+=""!=l?'class="'+l+'"':"",""!=g&&(b.attrs+=(""!=b.attrs?" ":"")+'id="'+g+'"'),""===b.tag&&""!=b.attrs&&(b.tag="div"),""!=i&&(b.attrs+=(""!=b.attrs?" ":"")+i),b},a.processors.html.helpers.TemplateEngine=function(a,b){for(var c=/<%(.+?)%>/g,d=/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,e="var r=[];\n",f=0,g=function(a,b){return e+=b?a.match(d)?a+"\n":"r.push("+a+");\n":""!=a?'r.push("'+a.replace(/"/g,'\\"')+'");\n':"",g};match=c.exec(a);)g(a.slice(f,match.index))(match[1],!0),f=match.index+match[0].length;return g(a.substr(f,a.length-f)),e+='return r.join("");',new Function(e.replace(/[\r\t\n]/g,"")).apply(b)},l()}(window);